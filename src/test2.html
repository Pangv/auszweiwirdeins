<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sarah & Olli - Hochzeit</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@700&family=Inter:wght@400;700&display=swap"
          rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>

    <style>

//        TT First Neue
// Placard Next
        body {
            font-family: 'Inter', sans-serif;
            background-color: #E9E6D1;
        }

        h1, h2, .font-display {
            font-family: 'Oswald', sans-serif;
            text-transform: uppercase;
        }

        .bg-dark-green {
            background-color: #0A3323;
        }

        .text-dark-green {
            color: #0A3323;
        }

        .bg-coral {
            background-color: #FF6B6B;
        }

        .border-coral {
            border-color: #FF6B6B;
        }

        /* Karten Style */
        .map {
            height: 250px;
            width: 100%;
            border-radius: 1rem;
            margin-top: 0.5rem;
            margin-bottom: 1.5rem;
            border: 2px solid rgba(255, 255, 255, 0.2);
            z-index: 1; /* Sicherstellen, dass die Karte unter Overlays bleibt */
        }
    </style>
</head>
<body class="text-dark-green">
<section class="grid md:grid-cols-2 min-h-[600px]">
    <div class="p-12 flex flex-col justify-center">
        <h1 class="text-7xl mb-4">Sarah &<br>Olli</h1>
        <p class="mb-8 font-bold text-xl">Es wird bunt ‚Äî 30.07.2025</p>
        <div class="space-y-4">
            <a href="#rsvp" class="bg-coral text-white px-8 py-3 rounded-full w-64 block text-center font-bold">WIR
                SAGEN JA!</a>
            <a href="#ablauf" class="bg-coral text-white px-8 py-3 rounded-full w-64 block text-center font-bold">FEIER
                MIT UNS</a>
        </div>
    </div>
    <div class="bg-gray-300 bg-[url('https://images.unsplash.com/photo-1511795409834-ef04bbd61622?q=80&w=2069&auto=format&fit=crop')] bg-cover bg-center"></div>
</section>

<section id="ablauf" class="bg-dark-green text-white p-8 md:p-12">
    <h2 class="text-6xl mb-12 text-center md:text-left">Was dich erwartet</h2>

    <div class="grid lg:grid-cols-2 gap-12 items-start">
        <div class="grid md:grid-cols-2 gap-8">

            <div class="relative border-l-2 border-coral/50 ml-4 pl-8 space-y-12">
                <div class="relative">
                    <div class="absolute -left-[41px] top-1 w-4 h-4 rounded-full bg-coral shadow-[0_0_10px_#FF6B6B]"></div>
                    <p class="text-coral font-bold tracking-widest uppercase text-sm">14:00 Uhr</p>
                    <h3 class="text-2xl font-display uppercase">Standesamt</h3>
                    <p class="text-sm opacity-70">Trauung im kleinen Kreis (Details folgen)</p>
                </div>

                <div class="relative">
                    <div class="absolute -left-[41px] top-1 w-4 h-4 rounded-full bg-coral"></div>
                    <p class="text-coral font-bold tracking-widest uppercase text-sm">14:30 Uhr</p>
                    <h3 class="text-2xl font-display uppercase">Drau√üen sammeln</h3>
                    <p class="text-sm opacity-70">Gl√ºckw√ºnsche & Gruppenfotos vor der T√ºr</p>
                </div>

                <div class="relative">
                    <div class="absolute -left-[41px] top-1 w-4 h-4 rounded-full bg-coral"></div>
                    <p class="text-coral font-bold tracking-widest uppercase text-sm">15:00 Uhr</p>
                    <h3 class="text-2xl font-display uppercase">Anfahrt zum Yolk</h3>
                    <p class="text-sm opacity-70">Individueller Wechsel zur Location am Kanal</p>
                </div>

                <div class="relative">
                    <div class="absolute -left-[41px] top-1 w-4 h-4 rounded-full bg-coral"></div>
                    <p class="text-coral font-bold tracking-widest uppercase text-sm">02:00 Uhr</p>
                    <h3 class="text-2xl font-display uppercase">Open End</h3>
                    <p class="text-sm opacity-70">Feiern, bis wir rausgeworfen werden! (also wirklich um 02:00 Uhr =)
                        )</p>
                </div>
            </div>

            <div class="space-y-4">
                <div>
                    <p class="text-xs uppercase font-bold text-coral mb-2">üìç H√∂rsterstra√üe 28</p>
                    <div id="mapStandesamt" class="map !h-[180px]"></div>
                </div>
                <div>
                    <p class="text-xs uppercase font-bold text-coral mb-2">üìç Bennostra√üe 5</p>
                    <div id="mapYolk" class="map !h-[180px]"></div>
                </div>
            </div>

        </div>
    </div>
</section>

<section id="rsvp" class="p-12 grid md:grid-cols-2 gap-12">
    <div>
        <h2 class="text-7xl mb-6">Bist du dabei?</h2>
        <p class="mb-6">Bitte melde dich √ºber das Kontaktformular rechts an.</p>
        <img src="https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?q=80&w=500" class="rounded-3xl"
             alt="Drinks">
    </div>
    <div class="bg-[#F2EBDC] p-8 rounded-3xl shadow-sm border-2 border-white">
        <form id="rsvpForm" class="space-y-4">
            <input type="number" id="guests" placeholder="PERSONENANZAHL"
                   class="w-full p-3 border border-coral rounded bg-transparent focus:ring-2 focus:ring-coral outline-none">
            <input type="text" id="name" placeholder="NAME"
                   class="w-full p-3 border border-coral rounded bg-transparent focus:ring-2 focus:ring-coral outline-none"
                   required>
            <textarea id="message" placeholder="NACHRICHT AN UNS (Z.B. ALLERGIEN, Vegetarisch, Vegan)"
                      class="w-full p-3 border border-coral rounded bg-transparent h-32 focus:ring-2 focus:ring-coral outline-none"></textarea>
            <textarea id="message2" placeholder="Musik No Goes"
                      class="w-full p-3 border border-coral rounded bg-transparent h-32 focus:ring-2 focus:ring-coral outline-none"></textarea>

            <button type="submit"
                    class="w-full bg-coral text-white py-4 rounded font-bold uppercase hover:bg-red-500 transition-colors">
                Abschicken
            </button>

        </form>
        <p id="status" class="mt-4 font-bold text-center"></p>
    </div>
</section>

<footer class="bg-coral p-12 text-center">
    <h2 class="text-white text-6xl md:text-8xl font-display">Wir sehen uns!</h2>
</footer>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

<script>
    // --- Karten Initialisierung ---

    // 1. Standesamt M√ºnster
    const latStandesamt = 51.965304;
    const lngStandesamt = 7.632601;
    const mapStandesamt = L.map('mapStandesamt').setView([latStandesamt, lngStandesamt], 15);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; OpenStreetMap contributors'
    }).addTo(mapStandesamt);
    L.marker([latStandesamt, lngStandesamt]).addTo(mapStandesamt)
        .bindPopup('<b>Standesamt M√ºnster</b><br>H√∂rsterstra√üe 28')
        .openPopup();

    // 2. Yolk M√ºnster
    const latYolk = 51.9536;
    const lngYolk = 7.6528;
    const mapYolk = L.map('mapYolk').setView([latYolk, lngYolk], 15);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; OpenStreetMap contributors'
    }).addTo(mapYolk);
    L.marker([latYolk, lngYolk]).addTo(mapYolk)
        .bindPopup('<b>Yolk (Bennohaus)</b><br>Bennostra√üe 5')
        .openPopup();

</script>
<script>
    // Firebase Konfiguration (aus deiner Firebase Console)
    const firebaseConfig = {
        apiKey: "DEIN_API_KEY",
        authDomain: "dein-projekt.firebaseapp.com",
        projectId: "dein-projekt-id",
        storageBucket: "dein-projekt.appspot.com",
        messagingSenderId: "123456789",
        appId: "dein-app-id"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // --- RSVP Logik mit Firestore ---
    document.getElementById('rsvpForm').addEventListener('submit', async (e) => {
        e.preventDefault();
        const status = document.getElementById('status');
        const submitBtn = e.target.querySelector('button');

        const code = document.getElementById('code').value.toUpperCase().trim();
        const data = {
            name: document.getElementById('name').value,
            guests: parseInt(document.getElementById('guests').value) || 1,
            message: document.getElementById('message').value,
            submittedAt: firebase.firestore.FieldValue.serverTimestamp(),
            status: 'confirmed'
        };

        status.innerText = "Wird gespeichert...";
        submitBtn.disabled = true;

        try {
            // Wir speichern das Dokument unter der ID des Codes
            await db.collection('rsvps').doc(code).set(data);

            status.innerText = "Erfolgreich gesendet! Wir freuen uns auf euch.";
            status.className = "mt-4 font-bold text-center text-green-600";
            document.getElementById('rsvpForm').reset();
        } catch (err) {
            console.error("Error saving to Firestore:", err);
            status.innerText = "Fehler beim Speichern. Bitte versuche es sp√§ter erneut.";
            status.className = "mt-4 font-bold text-center text-red-600";
            submitBtn.disabled = false;
        }
    });
</script>
</body>
</html>